<!DOCTYPE html>

<div id="GaugePanel" style="width: 200px;margin: 0 auto;">
            <svg id="fillgauge4" width="59%" height="200" onclick="data.gauge4.update(NewValue());"></svg>
</div>
<div id="GaugePanel" style="width: 200px;margin: 0 auto;">
            <svg id="fillgauge1" width="59%" height="200" onclick="data.gauge1.update(NewValue());"></svg>
</div>
<div id="GaugePanel" style="width: 200px;margin: 0 auto;">
            <svg id="fillgauge2" width="59%" height="200" onclick="data.gauge2.update(NewValue());"></svg>
</div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="d3-liquidFillGauge.js"></script>
<script>
var config3 = liquidFillGaugeDefaultSettings();
                 config3.textVertPosition = 0.5
                 config3.waveAnimateTime = 1000;
config3.valueCountUp = true;
                 config3.displayPercent = true;
                 config3.waveCount = 1;

d3.csv("gauge_data.csv", function(error, data) {
  if (error) throw error;
  console.log(data[0]);

    var foll_target = 50000000;
    var frnd_target = 500000;
    var retwt_target = 100000
    var foll_i = 0;
    var frnd_i = 0;
    var retwt_i = 0;

    var gauge4 = loadLiquidFillGauge("fillgauge4", ((data[0].followers/foll_target)* 100), config3);
                     function NewValue() {
                         if (Math.random() > .5) {
                             return Math.round(Math.random() * 100);
                         } else {
                             return (Math.random() * 100).toFixed(1);
                         }
                     }
    var gauge1 = loadLiquidFillGauge("fillgauge1", ((data[0].friends/frnd_target) * 100), config3);
                     function NewValue() {
                         if (Math.random() > .5) {
                             return Math.round(Math.random() * 100);
                         } else {
                             return (Math.random() * 100).toFixed(1);
                         }
                     }

    var gauge2 = loadLiquidFillGauge("fillgauge2", ((data[0].retweet_count/retwt_target) * 100), config3);
                     function NewValue() {
                         if (Math.random() > .5) {
                             return Math.round(Math.random() * 100);
                         } else {
                             return (Math.random() * 100).toFixed(1);
                         }
                     }

});
</script>